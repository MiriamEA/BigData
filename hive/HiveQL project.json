{
   "paragraphs": [
      {
         "text": "%md\n# HiveQL WDI project\n\nThe wdi_2016 datasets contains World Development Indicator data from 1960 to 2016. The columns are year, countryName, countryCode, indicatorName, indicatorCode, and idicatorValue. The dataset has size 2.2 GB.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T15:47:01+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h1>HiveQL WDI project<\/h1>\n<p>The wdi_2016 datasets contains World Development Indicator data from 1960 to 2016. The columns are year, countryName, countryCode, indicatorName, indicatorCode, and idicatorValue. The dataset has size 2.2 GB.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566314837533_1510580153",
         "id": "20190820-152717_485635208",
         "dateCreated": "2019-08-20T15:27:17+0000",
         "dateStarted": "2019-08-21T15:46:53+0000",
         "dateFinished": "2019-08-21T15:46:55+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "focus": true,
         "$$hashKey": "object:168"
      },
      {
         "text": "%md\n### Create table with gs storage\nCreate a Hive table to query wdi_2016.csv.gz from Google storage\nRuntime: create table 1.6 sec",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T15:47:14+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Create table with gs storage<\/h3>\n<p>Create a Hive table to query wdi_2016.csv.gz from Google storage<br/>Runtime: create table 1.6 sec<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566314913438_-296220324",
         "id": "20190820-152833_1084165286",
         "dateCreated": "2019-08-20T15:28:33+0000",
         "dateStarted": "2019-08-21T15:47:14+0000",
         "dateFinished": "2019-08-21T15:47:14+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:169"
      },
      {
         "text": "%spark.sql\nDROP TABLE IF EXISTS wdi_gs",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:08:37+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566320863963_1380054248",
         "id": "20190820-170743_1951777286",
         "dateCreated": "2019-08-20T17:07:43+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:170"
      },
      {
         "text": "%spark.sql\nCREATE EXTERNAL TABLE wdi_gs\n(year INTEGER, countryName STRING, countryCode STRING, indicatorName STRING, indicatorCode STRING, indicatorValue FLOAT)\nROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LINES TERMINATED BY '\\n'\nLOCATION 'gs://jrvs-bootcamp-miriam/datasets/wdi_2016'\nTBLPROPERTIES (\"skip.header.line.count\"=\"1\")",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:08:44+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566320918070_-1171153895",
         "id": "20190820-170838_710982547",
         "dateCreated": "2019-08-20T17:08:38+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:171"
      },
      {
         "text": "%md\nA first query to count all rows\nRuntime: 34.7 sec",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:11:38+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>A first query to count all rows<br/>Runtime: 34.7 sec<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566315354667_-710265728",
         "id": "20190820-153554_2090492736",
         "dateCreated": "2019-08-20T15:35:54+0000",
         "dateStarted": "2019-08-20T17:11:38+0000",
         "dateFinished": "2019-08-20T17:11:38+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:172"
      },
      {
         "text": "%spark.sql\nSELECT count(year) FROM wdi_gs",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:09:27+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566320959388_1866452553",
         "id": "20190820-170919_976547577",
         "dateCreated": "2019-08-20T17:09:19+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:173"
      },
      {
         "text": "%md\n### Using HDFS storage\nQuerying a google storage file is not efficient. We will export the data to HDFS using a new Hive table and a HiveQL query.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T15:50:02+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Using HDFS storage<\/h3>\n<p>Querying a google storage file is not efficient. We will export the data to HDFS using a new Hive table and a HiveQL query.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566315648726_1350301161",
         "id": "20190820-154048_606465034",
         "dateCreated": "2019-08-20T15:40:48+0000",
         "dateStarted": "2019-08-21T15:50:02+0000",
         "dateFinished": "2019-08-21T15:50:02+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:174"
      },
      {
         "text": "%md\nBefore we can create the table we have to create a HDFS directory using the following bash command: hdfs dfs -mkdir -p hdfs:///user/miriam/hive/wdi/wdi_csv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T15:50:28+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>Before we can create the table we have to create a HDFS directory using the following bash command: hdfs dfs -mkdir -p <a href=\"hdfs:///user/miriam/hive/wdi/wdi_csv_text\">hdfs:///user/miriam/hive/wdi/wdi_csv_text<\/a><\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566316413710_-1666437066",
         "id": "20190820-155333_1391112068",
         "dateCreated": "2019-08-20T15:53:33+0000",
         "dateStarted": "2019-08-21T15:50:28+0000",
         "dateFinished": "2019-08-21T15:50:28+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:175"
      },
      {
         "text": "%spark.sql\nDROP TABLE IF EXISTS wdi_csv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:12:06+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566321114650_-1757975077",
         "id": "20190820-171154_1920521630",
         "dateCreated": "2019-08-20T17:11:54+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:176"
      },
      {
         "text": "%spark.sql\nCREATE EXTERNAL TABLE wdi_csv_text\n(year INTEGER, countryName STRING, countryCode STRING, indicatorName STRING, indicatorCode STRING, indicatorValue FLOAT)\nROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LINES TERMINATED BY '\\n'\nLOCATION 'hdfs:///user/miriam/hive/wdi/wdi_csv_text'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:12:53+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566321170088_-1664657298",
         "id": "20190820-171250_52655914",
         "dateCreated": "2019-08-20T17:12:50+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:177"
      },
      {
         "text": "%md\nSo far, the directory is empty. We have to copy the data from our first Hive table (wdi_gs) to our new Hive table.\nRuntime: 75.2 sec",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T15:49:52+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>So far, the directory is empty. We have to copy the data from our first Hive table (wdi_gs) to our new Hive table.<br/>Runtime: 75.2 sec<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566402533998_-1839667771",
         "id": "20190821-154853_1761268903",
         "dateCreated": "2019-08-21T15:48:53+0000",
         "dateStarted": "2019-08-21T15:49:52+0000",
         "dateFinished": "2019-08-21T15:49:52+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:178"
      },
      {
         "text": "%spark.sql\nINSERT OVERWRITE TABLE wdi_csv_text\nSELECT * FROM wdi_gs",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:13:28+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566321200354_-640211034",
         "id": "20190820-171320_956236897",
         "dateCreated": "2019-08-20T17:13:20+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:179"
      },
      {
         "text": "%md\nSame query to count all rows\nRuntime:  32.1 sec (first time), 20.6 sec (second time)\nThe second time is faster because the data is cached and does not need to read from HDFS. After clearing the cache on all nodes in the cluster (bash command 'echo 3 | sudo tee /proc/sys/vm/drop_caches') this query takes longer again.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T16:00:27+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>Same query to count all rows<br/>Runtime: 32.1 sec (first time), 20.6 sec (second time)<br/>The second time is faster because the data is cached and does not need to read from HDFS. After clearing the cache on all nodes in the cluster (bash command &lsquo;echo 3 | sudo tee /proc/sys/vm/drop_caches&rsquo;) this query takes longer again.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566316184333_-521202891",
         "id": "20190820-154944_1185259753",
         "dateCreated": "2019-08-20T15:49:44+0000",
         "dateStarted": "2019-08-21T16:00:27+0000",
         "dateFinished": "2019-08-21T16:00:27+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:180"
      },
      {
         "text": "%spark.sql\nSELECT count(year) FROM wdi_csv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:17:06+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566321418752_-1292468007",
         "id": "20190820-171658_1312484768",
         "dateCreated": "2019-08-20T17:16:58+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:181"
      },
      {
         "text": "%md\nSome metadata on the table.\nThe table uses LazySimpleSerDe to read the file. The year is stored as int, the indicatorvalue is stored as float, and all other values are stored as strings.",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:26:59+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>Some metadata on the table.<br/>The table uses LazySimpleSerDe to read the file. The year is stored as int, the indicatorvalue is stored as float, and all other values are stored as strings.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566316811857_814635238",
         "id": "20190820-160011_1881026244",
         "dateCreated": "2019-08-20T16:00:11+0000",
         "dateStarted": "2019-08-20T17:26:59+0000",
         "dateFinished": "2019-08-20T17:26:59+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:182"
      },
      {
         "text": "%spark.sql\nDESCRIBE FORMATTED wdi_csv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:26:27+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566321696178_-920772856",
         "id": "20190820-172136_1129479929",
         "dateCreated": "2019-08-20T17:21:36+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:183"
      },
      {
         "text": "%md\n### Compare Hive and Bash\nCompute the number of rows using a bash command and a hive command.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T15:52:13+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Compare Hive and Bash<\/h3>\n<p>Compute the number of rows using a bash command and a hive command.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566317162651_1829081338",
         "id": "20190820-160602_804844846",
         "dateCreated": "2019-08-20T16:06:02+0000",
         "dateStarted": "2019-08-21T15:52:13+0000",
         "dateFinished": "2019-08-21T15:52:13+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:184"
      },
      {
         "text": "%md\nTo use a bash command we have to copy the data to the local disk first (bash command: hdfs dfs -get hdfs:///user/miriam/hive/wdi/wdi_csv_text .). This directory has size 1.8 GB.\nThen we can run the command to compute the number of rows (date +%s && cat * | wc && date +%s).\nRuntime: 34 sec (Hive 32.1 sec)\nWe expect the Hive command to take half the time that the bash command uses, because Hive uses two nodes. But the dataset is relatively small, so the time it takes to launch the YARN application is proportionally very big.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T16:04:00+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala",
            "editorHide": true
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>To use a bash command we have to copy the data to the local disk first (bash command: hdfs dfs -get <a href=\"hdfs:///user/miriam/hive/wdi/wdi_csv_text\">hdfs:///user/miriam/hive/wdi/wdi_csv_text<\/a> .). This directory has size 1.8 GB.<br/>Then we can run the command to compute the number of rows (date +%s &amp;&amp; cat * | wc &amp;&amp; date +%s).<br/>Runtime: 34 sec (Hive 32.1 sec)<br/>We expect the Hive command to take half the time that the bash command uses, because Hive uses two nodes. But the dataset is relatively small, so the time it takes to launch the YARN application is proportionally very big.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566322144377_168379573",
         "id": "20190820-172904_562666531",
         "dateCreated": "2019-08-20T17:29:04+0000",
         "dateStarted": "2019-08-21T16:03:48+0000",
         "dateFinished": "2019-08-21T16:03:48+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:185"
      },
      {
         "text": "%md\nWe will see that for larger files Hive does a lot better than Bash.\nWe create a big dataset by coping on of the existing files 20 times. The new dataset has a size of 9.3 GB.\n\nThese are the bash commands:\nhdfs dfs -cp hdfs:///user/miriam/hive/wdi/wdi_csv_text hdfs:///user/miriam/hive/wdi/wdi_csv_text_big\n\nfor i in {1..20}\ndo\n\techo \"Copying round: $i\"\n\thdfs dfs -cp hdfs:///user/miriam/hive/wdi/wdi_csv_text_big/000000_0 hdfs:///user/miriam/hive/wdi/wdi_csv_text_big/000000_0-$i\ndone\n\nhdfs dfs -du -s -h hdfs:///user/miriam/hive/wdi/wdi_csv_text_big",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T16:06:18+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>We will see that for larger files Hive does a lot better than Bash.<br/>We create a big dataset by coping on of the existing files 20 times. The new dataset has a size of 9.3 GB.<\/p>\n<p>These are the bash commands:<br/>hdfs dfs -cp <a href=\"hdfs:///user/miriam/hive/wdi/wdi_csv_text\">hdfs:///user/miriam/hive/wdi/wdi_csv_text<\/a> <a href=\"hdfs:///user/miriam/hive/wdi/wdi_csv_text_big\">hdfs:///user/miriam/hive/wdi/wdi_csv_text_big<\/a><\/p>\n<p>for i in {1..20}<br/>do<br/> echo &ldquo;Copying round: $i&rdquo;<br/> hdfs dfs -cp <a href=\"hdfs:///user/miriam/hive/wdi/wdi_csv_text_big/000000_0\">hdfs:///user/miriam/hive/wdi/wdi_csv_text_big/000000_0<\/a> <a href=\"hdfs:///user/miriam/hive/wdi/wdi_csv_text_big/000000_0-$i\">hdfs:///user/miriam/hive/wdi/wdi_csv_text_big/000000_0-$i<\/a><br/>done<\/p>\n<p>hdfs dfs -du -s -h <a href=\"hdfs:///user/miriam/hive/wdi/wdi_csv_text_big\">hdfs:///user/miriam/hive/wdi/wdi_csv_text_big<\/a><\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566322559603_1109080114",
         "id": "20190820-173559_1078132126",
         "dateCreated": "2019-08-20T17:35:59+0000",
         "dateStarted": "2019-08-21T16:06:17+0000",
         "dateFinished": "2019-08-21T16:06:17+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:186"
      },
      {
         "text": "%md\nWe will create a new Hive table with the new dataset and count rows again.\nRuntime: 86.5 sec (no cache), 48.5 sec(cached)",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T16:06:54+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": false,
            "tableHide": true
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>We will create a new Hive table with the new dataset and count rows again.<br/>Runtime: create table 0.2 sec<br/> counting rows 86.5 sec (no cache), 48.5 sec(cached)<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566323771586_-1639958951",
         "id": "20190820-175611_483281839",
         "dateCreated": "2019-08-20T17:56:11+0000",
         "dateStarted": "2019-08-20T18:03:51+0000",
         "dateFinished": "2019-08-20T18:03:51+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:187"
      },
      {
         "text": "%spark.sql\nDROP TABLE IF EXISTS wdi_csv_text_big",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:57:46+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566323858429_-1753268139",
         "id": "20190820-175738_1955536328",
         "dateCreated": "2019-08-20T17:57:38+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:188"
      },
      {
         "text": "%spark.sql\nCREATE EXTERNAL TABLE wdi_csv_text_big\n(year INTEGER, countryName STRING, countryCode STRING, indicatorName STRING, indicatorCode STRING, indicatorValue FLOAT)\nROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LINES TERMINATED BY '\\n'\nLOCATION 'hdfs:///user/miriam/hive/wdi/wdi_csv_text_big'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T17:58:17+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566323732285_-276644191",
         "id": "20190820-175532_1655105912",
         "dateCreated": "2019-08-20T17:55:32+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:189"
      },
      {
         "text": "%spark.sql\nSELECT count(year) FROM wdi_csv_text_big",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:00:01+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566323991612_-721087207",
         "id": "20190820-175951_1369399052",
         "dateCreated": "2019-08-20T17:59:51+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:190"
      },
      {
         "text": "%md\nIn order to use the bash command we have to copy the data to the local disk first. Then we can execute the bash command.\nRunning time: 196 sec\nAs expected, now the bash command takes about twice as long as the Hive query.\n\nThese are the bash commands:\nhdfs dfs -get hdfs:///user/miriam/hive/wdi/wdi_csv_text_big .\ncd wdi_csv_text_big\ndate +%s && cat * | wc && date +%s",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T16:07:34+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>In order to use the bash command we have to copy the data to the local disk first. Then we can execute the bash command.<br/>Running time: 196 sec<br/>As expected, now the bash command takes about twice as long as the Hive query.<\/p>\n<p>These are the bash commands:<br/>hdfs dfs -get <a href=\"hdfs:///user/miriam/hive/wdi/wdi_csv_text_big\">hdfs:///user/miriam/hive/wdi/wdi_csv_text_big<\/a> .<br/>cd wdi_csv_text_big<br/>date +%s &amp;&amp; cat * | wc &amp;&amp; date +%s<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566324135297_919229207",
         "id": "20190820-180215_1337695632",
         "dateCreated": "2019-08-20T18:02:15+0000",
         "dateStarted": "2019-08-21T16:07:34+0000",
         "dateFinished": "2019-08-21T16:07:34+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:191"
      },
      {
         "text": "%md\n### Parsing issues\nThe problem with the next query is the used SerDe. It uses every comma as a sparator but some text in the indicatorname column is supposed to contain commas, which the LazySimpleSerDe does not recognize.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T17:55:39+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Parsing issues<\/h3>\n<p>The problem with the next query is the used SerDe. It uses every comma as a sparator but some text in the indicatorname column is supposed to contain commas, which the LazySimpleSerDe does not recognize.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566324617003_-655096897",
         "id": "20190820-181017_324531299",
         "dateCreated": "2019-08-20T18:10:17+0000",
         "dateStarted": "2019-08-21T17:55:40+0000",
         "dateFinished": "2019-08-21T17:55:42+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:192"
      },
      {
         "text": "%spark.sql\nSELECT distinct(indicatorcode)\nFROM wdi_csv_text\nORDER BY indicatorcode\nLIMIT 20",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:14:19+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {
               "0": {
                  "graph": {
                     "mode": "table",
                     "height": 300,
                     "optionOpen": false,
                     "setting": {
                        "table": {
                           "tableGridState": {},
                           "tableColumnTypeState": {
                              "names": {
                                 "indicatorcode": "string"
                              },
                              "updated": false
                           },
                           "tableOptionSpecHash": [
                              {
                                 "name": "useFilter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable filter for columns"
                              },
                              {
                                 "name": "showPagination",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable pagination for better navigation"
                              },
                              {
                                 "name": "showAggregationFooter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable a footer for displaying aggregated values"
                              }
                           ],
                           "tableOptionValue": {
                              "useFilter": false,
                              "showPagination": false,
                              "showAggregationFooter": false
                           },
                           "updated": false,
                           "initialized": false
                        }
                     },
                     "commonSetting": {}
                  }
               }
            },
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "TABLE",
                  "data": "indicatorcode\n % of exports of goods\n %)\"\n (% of urban population)\"\n 15+\n Atlas method (current US$)\"\n Australia (current US$)\"\n Austria (current US$)\"\n Belgium (current US$)\"\n BoP)\"\n Canada (current US$)\"\n Czech Republic (current US$)\"\n DPT (% of children ages 12-23 months)\"\n Denmark (current US$)\"\n Deutsche mark (%)\"\n Euro (%)\"\n European Union institutions (current US$)\"\n Finland (current US$)\"\n France (current US$)\"\n French franc (%)\"\n GDP (LCU per international $)\"\n"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566324633317_-1373526577",
         "id": "20190820-181033_2060125779",
         "dateCreated": "2019-08-20T18:10:33+0000",
         "dateStarted": "2019-08-20T18:13:22+0000",
         "dateFinished": "2019-08-20T18:14:16+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:193"
      },
      {
         "text": "%md\n### Create debug table\nWe want to create a Hive table with just one column so we can see the complete lines for debugging purposes.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T17:56:02+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Create debug table<\/h3>\n<p>We want to create a Hive table with just one column so we can see the complete lines for debugging purposes.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566324801869_263905944",
         "id": "20190820-181321_1849628762",
         "dateCreated": "2019-08-20T18:13:21+0000",
         "dateStarted": "2019-08-21T17:56:02+0000",
         "dateFinished": "2019-08-21T17:56:02+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:194"
      },
      {
         "text": "%spark.sql\nDROP TABLE IF EXISTS wd_gs_debug",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:34:22+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566326042081_439352272",
         "id": "20190820-183402_784756254",
         "dateCreated": "2019-08-20T18:34:02+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:195"
      },
      {
         "text": "%spark.sql\nCREATE EXTERNAL TABLE wdi_gs_debug\n(line STRING)\nLOCATION 'gs://jrvs-bootcamp-miriam/datasets/wdi_2016'\nTBLPROPERTIES (\"skip.header.line.count\"=\"1\")",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T19:01:47+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566325069483_314215687",
         "id": "20190820-181749_550647916",
         "dateCreated": "2019-08-20T18:17:49+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:196"
      },
      {
         "text": "%md\nWhen we query some line parsing errors, our previous guess is confirmed. The commas inbetween quotations marks should be ignored when reading a line, but they are not.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T17:56:31+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>When we query some line parsing errors, our previous guess is confirmed. The commas inbetween quotations marks should be ignored when reading a line, but they are not.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566325535209_-669145670",
         "id": "20190820-182535_1216849773",
         "dateCreated": "2019-08-20T18:25:35+0000",
         "dateStarted": "2019-08-21T17:56:31+0000",
         "dateFinished": "2019-08-21T17:56:31+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:197"
      },
      {
         "text": "%spark.sql\nSELECT distinct(line) FROM wdi_gs_debug\nWHERE line LIKE \"%(\\% of urban population)\\\"%\"\nLIMIT 10",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:29:46+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {
               "0": {
                  "graph": {
                     "mode": "table",
                     "height": 300,
                     "optionOpen": false,
                     "setting": {
                        "table": {
                           "tableGridState": {},
                           "tableColumnTypeState": {
                              "names": {
                                 "line": "string"
                              },
                              "updated": false
                           },
                           "tableOptionSpecHash": [
                              {
                                 "name": "useFilter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable filter for columns"
                              },
                              {
                                 "name": "showPagination",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable pagination for better navigation"
                              },
                              {
                                 "name": "showAggregationFooter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable a footer for displaying aggregated values"
                              }
                           ],
                           "tableOptionValue": {
                              "useFilter": false,
                              "showPagination": false,
                              "showAggregationFooter": false
                           },
                           "updated": false,
                           "initialized": false
                        }
                     },
                     "commonSetting": {}
                  }
               }
            },
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "TABLE",
                  "data": "line\n1993,Denmark,DNK,\"Population living in slums, (% of urban population)\",EN.POP.SLUM.UR.ZS,0\n2008,Late-demographic dividend,LTE,\"Access to non-solid fuel, urban (% of urban population)\",EG.NSF.ACCS.UR.ZS,0\n1998,Vietnam,VNM,\"Access to non-solid fuel, urban (% of urban population)\",EG.NSF.ACCS.UR.ZS,0\n1976,Togo,TGO,\"Access to non-solid fuel, urban (% of urban population)\",EG.NSF.ACCS.UR.ZS,0\n1964,Comoros,COM,\"Access to electricity, urban (% of urban population)\",EG.ELC.ACCS.UR.ZS,0\n1971,Djibouti,DJI,\"People practicing open defecation, urban (% of urban population)\",SH.STA.ODFC.UR.ZS,0\n1967,Saudi Arabia,SAU,\"Access to electricity, urban (% of urban population)\",EG.ELC.ACCS.UR.ZS,0\n1981,\"Venezuela, RB\",VEN,\"People practicing open defecation, urban (% of urban population)\",SH.STA.ODFC.UR.ZS,0\n1992,Dominican Republic,DOM,\"Population living in slums, (% of urban population)\",EN.POP.SLUM.UR.ZS,0\n1987,Trinidad and Tobago,TTO,\"People practicing open defecation, urban (% of urban population)\",SH.STA.ODFC.UR.ZS,0\n"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566325412296_-138155368",
         "id": "20190820-182332_1840270189",
         "dateCreated": "2019-08-20T18:23:32+0000",
         "dateStarted": "2019-08-20T18:28:36+0000",
         "dateFinished": "2019-08-20T18:29:43+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:198"
      },
      {
         "text": "%md\n### Create table with OpenCSV SerDe\nCreate a new Hive table with data from gs using OpenCSV SerDe to avoid parsing issues.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T17:57:12+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Create table with OpenCSV SerDe<\/h3>\n<p>Create a new Hive table with data from gs using OpenCSV SerDe to avoid parsing issues.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566325716134_-79795071",
         "id": "20190820-182836_1215491060",
         "dateCreated": "2019-08-20T18:28:36+0000",
         "dateStarted": "2019-08-21T17:57:12+0000",
         "dateFinished": "2019-08-21T17:57:12+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:199"
      },
      {
         "text": "%spark.sql\nDROP TABLE IF EXISTS wdi_opencsv_gs",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:34:44+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566326062786_-1064261407",
         "id": "20190820-183422_35440336",
         "dateCreated": "2019-08-20T18:34:22+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:200"
      },
      {
         "text": "%spark.sql\nCREATE EXTERNAL TABLE wdi_opencsv_gs\n(year INTEGER, countryName STRING, countryCode STRING, indicatorName STRING, indicatorCode STRING, indicatorValue FLOAT)\nROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.OpenCSVSerde'\nWITH SERDEPROPERTIES (\n    \"separatorChar\" = \",\",\n    \"quoteChar\" = \"\\\"\",\n    \"escapeChar\" = \"\\\\\"\n)\nLOCATION 'gs://jrvs-bootcamp-miriam/datasets/wdi_2016'\nTBLPROPERTIES (\"skip.header.line.count\"=\"1\")",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T19:01:58+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566325947246_1336300257",
         "id": "20190820-183227_1988499606",
         "dateCreated": "2019-08-20T18:32:27+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:201"
      },
      {
         "text": "%md\nNow, the indicatorcodes make sense.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T17:57:58+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala",
            "editorHide": true
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>Now, the indicatorcodes make sense.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566327134321_-551402218",
         "id": "20190820-185214_636469350",
         "dateCreated": "2019-08-20T18:52:14+0000",
         "dateStarted": "2019-08-21T17:57:53+0000",
         "dateFinished": "2019-08-21T17:57:53+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:202"
      },
      {
         "text": "%spark.sql\nSELECT distinct(indicatorcode)\nFROM wdi_opencsv_gs\nORDER BY indicatorcode\nLIMIT 20",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:42:39+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {
               "0": {
                  "graph": {
                     "mode": "table",
                     "height": 300,
                     "optionOpen": false,
                     "setting": {
                        "table": {
                           "tableGridState": {},
                           "tableColumnTypeState": {
                              "names": {
                                 "indicatorcode": "string"
                              },
                              "updated": false
                           },
                           "tableOptionSpecHash": [
                              {
                                 "name": "useFilter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable filter for columns"
                              },
                              {
                                 "name": "showPagination",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable pagination for better navigation"
                              },
                              {
                                 "name": "showAggregationFooter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable a footer for displaying aggregated values"
                              }
                           ],
                           "tableOptionValue": {
                              "useFilter": false,
                              "showPagination": false,
                              "showAggregationFooter": false
                           },
                           "updated": false,
                           "initialized": false
                        }
                     },
                     "commonSetting": {}
                  }
               }
            },
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "TABLE",
                  "data": "indicatorcode\nAG.AGR.TRAC.NO\nAG.CON.FERT.PT.ZS\nAG.CON.FERT.ZS\nAG.LND.AGRI.K2\nAG.LND.AGRI.ZS\nAG.LND.ARBL.HA\nAG.LND.ARBL.HA.PC\nAG.LND.ARBL.ZS\nAG.LND.CREL.HA\nAG.LND.CROP.ZS\nAG.LND.EL5M.RU.K2\nAG.LND.EL5M.RU.ZS\nAG.LND.EL5M.UR.K2\nAG.LND.EL5M.UR.ZS\nAG.LND.EL5M.ZS\nAG.LND.FRST.K2\nAG.LND.FRST.ZS\nAG.LND.IRIG.AG.ZS\nAG.LND.PRCP.MM\nAG.LND.TOTL.K2\n"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566326424934_-2013670472",
         "id": "20190820-184024_977315431",
         "dateCreated": "2019-08-20T18:40:24+0000",
         "dateStarted": "2019-08-20T18:40:49+0000",
         "dateFinished": "2019-08-20T18:42:33+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:203"
      },
      {
         "text": "%md \nNext, we export the data using OpenCSVSerde to a HDFS location using a new Hive table.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:00:57+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>Next, we export the data using OpenCSVSerde to a HDFS location using a new Hive table.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566410282702_1166699490",
         "id": "20190821-175802_310038161",
         "dateCreated": "2019-08-21T17:58:02+0000",
         "dateStarted": "2019-08-21T18:00:57+0000",
         "dateFinished": "2019-08-21T18:00:57+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:204"
      },
      {
         "text": "%spark.sql\nDROP TABLE IF EXISTS wdi_opencsv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:45:33+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566326449636_-2032587620",
         "id": "20190820-184049_1549114429",
         "dateCreated": "2019-08-20T18:40:49+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:205"
      },
      {
         "text": "%spark.sql\nCREATE EXTERNAL TABLE wdi_opencsv_text\n(year INTEGER, countryName STRING, countryCode STRING, indicatorName STRING, indicatorCode STRING, indicatorValue FLOAT)\nROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.OpenCSVSerde'\nLOCATION 'hdfs:///user/miriam/hive/wdi/wdi_opencsv_text'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:46:25+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566326733445_-2109115200",
         "id": "20190820-184533_1597817802",
         "dateCreated": "2019-08-20T18:45:33+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:206"
      },
      {
         "text": "%spark.sql\nINSERT OVERWRITE TABLE wdi_opencsv_text\nSELECT * FROM wdi_opencsv_gs",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:47:15+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566326813975_1158428252",
         "id": "20190820-184653_336215569",
         "dateCreated": "2019-08-20T18:46:53+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:207"
      },
      {
         "text": "%spark.sql\nSELECT distinct(indicatorcode)\nFROM wdi_opencsv_text\nORDER BY indicatorcode\nLIMIT 20",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:54:13+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {
               "0": {
                  "graph": {
                     "mode": "table",
                     "height": 300,
                     "optionOpen": false,
                     "setting": {
                        "table": {
                           "tableGridState": {},
                           "tableColumnTypeState": {
                              "names": {
                                 "indicatorcode": "string"
                              },
                              "updated": false
                           },
                           "tableOptionSpecHash": [
                              {
                                 "name": "useFilter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable filter for columns"
                              },
                              {
                                 "name": "showPagination",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable pagination for better navigation"
                              },
                              {
                                 "name": "showAggregationFooter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable a footer for displaying aggregated values"
                              }
                           ],
                           "tableOptionValue": {
                              "useFilter": false,
                              "showPagination": false,
                              "showAggregationFooter": false
                           },
                           "updated": false,
                           "initialized": false
                        }
                     },
                     "commonSetting": {}
                  }
               }
            },
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "TABLE",
                  "data": "indicatorcode\nAG.AGR.TRAC.NO\nAG.CON.FERT.PT.ZS\nAG.CON.FERT.ZS\nAG.LND.AGRI.K2\nAG.LND.AGRI.ZS\nAG.LND.ARBL.HA\nAG.LND.ARBL.HA.PC\nAG.LND.ARBL.ZS\nAG.LND.CREL.HA\nAG.LND.CROP.ZS\nAG.LND.EL5M.RU.K2\nAG.LND.EL5M.RU.ZS\nAG.LND.EL5M.UR.K2\nAG.LND.EL5M.UR.ZS\nAG.LND.EL5M.ZS\nAG.LND.FRST.K2\nAG.LND.FRST.ZS\nAG.LND.IRIG.AG.ZS\nAG.LND.PRCP.MM\nAG.LND.TOTL.K2\n"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566327138007_-443778839",
         "id": "20190820-185218_1278522019",
         "dateCreated": "2019-08-20T18:52:18+0000",
         "dateStarted": "2019-08-20T18:52:28+0000",
         "dateFinished": "2019-08-20T18:54:10+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:208"
      },
      {
         "text": "%md\nWe compare the running time for counting rows using LazySimpleSerDe (table wdi_csv_text) and using OpenCSVSerde (table wdi_opencsv_text).\nRuntime: 44.8 sec for LazySimpleSerDe, 73.7 sec for OpenCSVSerde\nUsing the OpenCSVSerde is significantly slower. This is probably the reaseon because the OpenCSVSerde uses a more complicated parsing schema that takes longer to execute.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:01:37+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>We compare the running time for counting rows using LazySimpleSerDe (table wdi_csv_text) and using OpenCSVSerde (table wdi_opencsv_text).<br/>Runtime: 44.8 sec for LazySimpleSerDe, 73.7 sec for OpenCSVSerde<br/>Using the OpenCSVSerde is significantly slower. This is probably the reaseon because the OpenCSVSerde uses a more complicated parsing schema that takes longer to execute.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566327148304_-1664485867",
         "id": "20190820-185228_536988313",
         "dateCreated": "2019-08-20T18:52:28+0000",
         "dateStarted": "2019-08-21T18:01:37+0000",
         "dateFinished": "2019-08-21T18:01:37+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:209"
      },
      {
         "text": "%spark.sql\nSELECT count(year) FROM wdi_csv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:56:11+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566327351426_-442614401",
         "id": "20190820-185551_1026267354",
         "dateCreated": "2019-08-20T18:55:51+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:210"
      },
      {
         "text": "%spark.sql\nSELECT count(year) FROM wdi_opencsv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T18:57:45+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566327458179_-2067237948",
         "id": "20190820-185738_380724136",
         "dateCreated": "2019-08-20T18:57:38+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:211"
      },
      {
         "text": "%md\n### OpenCSVSerde limitations\nUsing OpenCSVSerde id not only slower in peformance, it also parses all columns as strings.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:01:54+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>OpenCSVSerde limitations<\/h3>\n<p>Using OpenCSVSerde id not only slower in peformance, it also parses all columns as strings.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566327677054_-1675868290",
         "id": "20190820-190117_2020057257",
         "dateCreated": "2019-08-20T19:01:17+0000",
         "dateStarted": "2019-08-21T18:01:54+0000",
         "dateFinished": "2019-08-21T18:01:54+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:212"
      },
      {
         "text": "%spark.sql\nDESCRIBE FORMATTED wdi_opencsv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:06:05+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {
               "0": {
                  "graph": {
                     "mode": "table",
                     "height": 300,
                     "optionOpen": false,
                     "setting": {
                        "table": {
                           "tableGridState": {},
                           "tableColumnTypeState": {
                              "names": {
                                 "col_name": "string",
                                 "data_type": "string",
                                 "comment": "string"
                              },
                              "updated": false
                           },
                           "tableOptionSpecHash": [
                              {
                                 "name": "useFilter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable filter for columns"
                              },
                              {
                                 "name": "showPagination",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable pagination for better navigation"
                              },
                              {
                                 "name": "showAggregationFooter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable a footer for displaying aggregated values"
                              }
                           ],
                           "tableOptionValue": {
                              "useFilter": false,
                              "showPagination": false,
                              "showAggregationFooter": false
                           },
                           "updated": false,
                           "initialized": false
                        }
                     },
                     "commonSetting": {}
                  }
               }
            },
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "TABLE",
                  "data": "col_name\tdata_type\tcomment\nyear\tstring\tfrom deserializer\ncountryname\tstring\tfrom deserializer\ncountrycode\tstring\tfrom deserializer\nindicatorname\tstring\tfrom deserializer\nindicatorcode\tstring\tfrom deserializer\nindicatorvalue\tstring\tfrom deserializer\n\t\t\n# Detailed Table Information\t\t\nDatabase\tdefault\t\nTable\twdi_opencsv_text\t\nOwner\tmiriam_eicherabel_jrvs_ca\t\nCreated Time\tTue Aug 20 18:46:39 UTC 2019\t\nLast Access\tThu Jan 01 00:00:00 UTC 1970\t\nCreated By\tSpark 2.2 or prior\t\nType\tEXTERNAL\t\nProvider\thive\t\nTable Properties\t[transient_lastDdlTime=1566326952]\t\nStatistics\t2422984947 bytes, 21759413 rows\t\nLocation\thdfs://jarvis-bootcamp-m/user/miriam/hive/wdi/wdi_opencsv_text\t\nSerde Library\torg.apache.hadoop.hive.serde2.OpenCSVSerde\t\nInputFormat\torg.apache.hadoop.mapred.TextInputFormat\t\nOutputFormat\torg.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\t\nStorage Properties\t[serialization.format=1]\t\nPartition Provider\tCatalog\t\n"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566327939052_1075974544",
         "id": "20190820-190539_822961463",
         "dateCreated": "2019-08-20T19:05:39+0000",
         "dateStarted": "2019-08-20T19:06:00+0000",
         "dateFinished": "2019-08-20T19:06:00+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:213"
      },
      {
         "text": "%md\nThe problem of only strings can be fixed with a view, where we cast year and indicatorValue.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:02:27+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>The problem of only strings can be fixed with a view, where we cast year and indicatorValue.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566327998289_-314960819",
         "id": "20190820-190638_1847186759",
         "dateCreated": "2019-08-20T19:06:38+0000",
         "dateStarted": "2019-08-21T18:02:27+0000",
         "dateFinished": "2019-08-21T18:02:27+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:214"
      },
      {
         "text": "%spark.sql\nDROP VIEW IF EXISTS wdi_opencsv_text_view",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:07:46+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566327960022_240511301",
         "id": "20190820-190600_189285697",
         "dateCreated": "2019-08-20T19:06:00+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:215"
      },
      {
         "text": "%spark.sql\nCREATE VIEW wdi_opencsv_text_view\nAS\nSELECT cast(year AS integer),countryName, countryCode, indicatorName, indicatorCode, cast(indicatorValue AS float) FROM wdi_opencsv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:10:14+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566328067093_821616170",
         "id": "20190820-190747_1016041854",
         "dateCreated": "2019-08-20T19:07:47+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:216"
      },
      {
         "text": "%spark.sql\nDESCRIBE FORMATTED wdi_opencsv_text_view",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:11:20+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {
               "0": {
                  "graph": {
                     "mode": "table",
                     "height": 300,
                     "optionOpen": false,
                     "setting": {
                        "table": {
                           "tableGridState": {},
                           "tableColumnTypeState": {
                              "names": {
                                 "col_name": "string",
                                 "data_type": "string",
                                 "comment": "string"
                              },
                              "updated": false
                           },
                           "tableOptionSpecHash": [
                              {
                                 "name": "useFilter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable filter for columns"
                              },
                              {
                                 "name": "showPagination",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable pagination for better navigation"
                              },
                              {
                                 "name": "showAggregationFooter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable a footer for displaying aggregated values"
                              }
                           ],
                           "tableOptionValue": {
                              "useFilter": false,
                              "showPagination": false,
                              "showAggregationFooter": false
                           },
                           "updated": false,
                           "initialized": false
                        }
                     },
                     "commonSetting": {}
                  }
               }
            },
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "TABLE",
                  "data": "col_name\tdata_type\tcomment\nyear\tint\tnull\ncountryname\tstring\tnull\ncountrycode\tstring\tnull\nindicatorname\tstring\tnull\nindicatorcode\tstring\tnull\nindicatorvalue\tfloat\tnull\n\t\t\n# Detailed Table Information\t\t\nDatabase\tdefault\t\nTable\twdi_opencsv_text_view\t\nOwner\tmiriam_eicherabel_jrvs_ca\t\nCreated Time\tTue Aug 20 19:10:19 UTC 2019\t\nLast Access\tThu Jan 01 00:00:00 UTC 1970\t\nCreated By\tSpark 2.2 or prior\t\nType\tVIEW\t\nView Text\tSELECT cast(`wdi_opencsv_text`.`year` AS integer),`wdi_opencsv_text`.`countryname`, `wdi_opencsv_text`.`countrycode`, `wdi_opencsv_text`.`indicatorname`, `wdi_opencsv_text`.`indicatorcode`, cast(`wdi_opencsv_text`.`indicatorvalue` AS float) FROM `default`.`wdi_opencsv_text`\t\nTable Properties\t[transient_lastDdlTime=1566328217]\t\nInputFormat\torg.apache.hadoop.mapred.TextInputFormat\t\nOutputFormat\torg.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\t\n"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566328268565_855460913",
         "id": "20190820-191108_736539265",
         "dateCreated": "2019-08-20T19:11:08+0000",
         "dateStarted": "2019-08-20T19:11:14+0000",
         "dateFinished": "2019-08-20T19:11:14+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:217"
      },
      {
         "text": "%md\n## Canada GDP growth\nFind the 2015 GDP growth (annual %) for Canada\n1. Find correct indicatorCode (Running time 106.3 sec)\n2. Find 2015 GDP growth (Running time 100.3 sec)",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:30:40+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h2>Canada GDP growth<\/h2>\n<p>Find the 2015 GDP growth (annual %) for Canada<br/>1. Find correct indicatorCode (Running time 106.3 sec)<br/>2. Find 2015 GDP growth (Running time 100.3 sec)<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566328274322_1022665455",
         "id": "20190820-191114_1173957820",
         "dateCreated": "2019-08-20T19:11:14+0000",
         "dateStarted": "2019-08-20T19:30:40+0000",
         "dateFinished": "2019-08-20T19:30:40+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:218"
      },
      {
         "text": "%spark.sql\nSELECT distinct(indicatorCode), indicatorName FROM wdi_opencsv_text\nWHERE indicatorName LIKE '%GDP growth%'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:19:34+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {
               "0": {
                  "graph": {
                     "mode": "table",
                     "height": 144,
                     "optionOpen": false,
                     "setting": {
                        "table": {
                           "tableGridState": {},
                           "tableColumnTypeState": {
                              "names": {
                                 "indicatorCode": "string",
                                 "indicatorName": "string"
                              },
                              "updated": false
                           },
                           "tableOptionSpecHash": [
                              {
                                 "name": "useFilter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable filter for columns"
                              },
                              {
                                 "name": "showPagination",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable pagination for better navigation"
                              },
                              {
                                 "name": "showAggregationFooter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable a footer for displaying aggregated values"
                              }
                           ],
                           "tableOptionValue": {
                              "useFilter": false,
                              "showPagination": false,
                              "showAggregationFooter": false
                           },
                           "updated": false,
                           "initialized": false
                        }
                     },
                     "commonSetting": {}
                  }
               }
            },
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "TABLE",
                  "data": "indicatorCode\tindicatorName\nNY.GDP.MKTP.KD.ZG\tGDP growth (annual %)\n"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566328423902_1507531458",
         "id": "20190820-191343_382774908",
         "dateCreated": "2019-08-20T19:13:43+0000",
         "dateStarted": "2019-08-20T19:17:06+0000",
         "dateFinished": "2019-08-20T19:19:01+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:219"
      },
      {
         "text": "%spark.sql\nSELECT year, indicatorValue, countryName FROM wdi_opencsv_text\nWHERE indicatorCode = 'NY.GDP.MKTP.KD.ZG'\nAND year = '2015'\nAND countryName = 'Canada'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:30:28+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {
               "0": {
                  "graph": {
                     "mode": "table",
                     "height": 94,
                     "optionOpen": false,
                     "setting": {
                        "table": {
                           "tableGridState": {},
                           "tableColumnTypeState": {
                              "names": {
                                 "year": "string",
                                 "indicatorValue": "string",
                                 "countryName": "string"
                              },
                              "updated": false
                           },
                           "tableOptionSpecHash": [
                              {
                                 "name": "useFilter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable filter for columns"
                              },
                              {
                                 "name": "showPagination",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable pagination for better navigation"
                              },
                              {
                                 "name": "showAggregationFooter",
                                 "valueType": "boolean",
                                 "defaultValue": false,
                                 "widget": "checkbox",
                                 "description": "Enable a footer for displaying aggregated values"
                              }
                           ],
                           "tableOptionValue": {
                              "useFilter": false,
                              "showPagination": false,
                              "showAggregationFooter": false
                           },
                           "updated": false,
                           "initialized": false
                        }
                     },
                     "commonSetting": {}
                  }
               }
            },
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "TABLE",
                  "data": "year\tindicatorValue\tcountryName\n2015\t1.07826875075381\tCanada\n"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566328626312_1644052838",
         "id": "20190820-191706_1487670282",
         "dateCreated": "2019-08-20T19:17:06+0000",
         "dateStarted": "2019-08-20T19:28:24+0000",
         "dateFinished": "2019-08-20T19:30:18+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:220"
      },
      {
         "text": "%md\n### Hive partitions\nThe running time of the query can be improved by using partitions. We create a  new table and partition that table by year.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:03:48+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorHide": true,
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Hive partitions<\/h3>\n<p>The running time of the query can be improved by using partitions. We create a new table and partition that table by year.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566329125493_-82187738",
         "id": "20190820-192525_1438212110",
         "dateCreated": "2019-08-20T19:25:25+0000",
         "dateStarted": "2019-08-21T18:03:44+0000",
         "dateFinished": "2019-08-21T18:03:44+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:221"
      },
      {
         "text": "%spark.sql\nDROP TABLE IF EXISTS wdi_opencsv_text_partitions",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:33:59+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566329550302_-953968746",
         "id": "20190820-193230_1684181869",
         "dateCreated": "2019-08-20T19:32:30+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:222"
      },
      {
         "text": "%spark.sql\nCREATE EXTERNAL TABLE wdi_opencsv_text_partitions\n(countryName STRING, countryCode STRING, indicatorName STRING, indicatorCode STRING, indicatorValue FLOAT)\nPARTITIONED BY (year INTEGER)\nROW FORMAT DELIMITED\nLOCATION 'hdfs:///user/miriam/hive/wdi/wdi_opencsv_text_partitions'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:35:36+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566329584605_468983448",
         "id": "20190820-193304_1957194918",
         "dateCreated": "2019-08-20T19:33:04+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:223"
      },
      {
         "text": "%spark.sql\nset hive.exec.dynamic.partition.mode=nonstrict",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:37:19+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566329810702_125329512",
         "id": "20190820-193650_1709415637",
         "dateCreated": "2019-08-20T19:36:50+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:224"
      },
      {
         "text": "%spark.sql\nINSERT OVERWRITE TABLE wdi_opencsv_text_partitions PARTITION (year)\nSELECT countryName, countryCode, indicatorName, indicatorCode, indicatorValue, YEAR FROM wdi_opencsv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:41:06+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566329974726_-1595481091",
         "id": "20190820-193934_696961912",
         "dateCreated": "2019-08-20T19:39:34+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:225"
      },
      {
         "text": "%md \n57 subdirectories were created, one for each year.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T19:20:59+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>57 subdirectories were created, one for each year.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566330382813_148488889",
         "id": "20190820-194622_2014525739",
         "dateCreated": "2019-08-20T19:46:22+0000",
         "dateStarted": "2019-08-21T19:20:59+0000",
         "dateFinished": "2019-08-21T19:20:59+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:226"
      },
      {
         "text": "%md\nLet's run the query for the GDP on the partitioned table.\nRuntime. 3.7 sec (more than 20 times faster than on the unpatitioned table)\nThe query is so much faster because it only has to go through 34.3 MB instead of 2.3 GB",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:12:50+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>Let&rsquo;s run the query for the GDP on the partitioned table.<br/>Runtime. 3.7 sec (more than 20 times faster than on the unpatitioned table)<br/>The query is so much faster because it only has to go through 34.3 MB instead of 2.3 GB<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566330489752_1667889805",
         "id": "20190820-194809_293052290",
         "dateCreated": "2019-08-20T19:48:09+0000",
         "dateStarted": "2019-08-21T18:12:50+0000",
         "dateFinished": "2019-08-21T18:12:50+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:227"
      },
      {
         "text": "%spark.sql\nSELECT year, indicatorValue, countryName FROM wdi_opencsv_text_partitions\nWHERE indicatorCode = 'NY.GDP.MKTP.KD.ZG'\nAND year = '2015'\nAND countryName = 'Canada'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:47:20+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566330403867_1129738829",
         "id": "20190820-194643_453597320",
         "dateCreated": "2019-08-20T19:46:43+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:228"
      },
      {
         "text": "%md\n### Columnar File Optimization\nAnother possible optimization is using a column-oriented file format for storing the data.\nWe create a Hive table where the data is stored as parquet. The files for the parquet table are a lot smaller (177.2 MB vs 2.3 GB) because parquet compresses the data.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T19:22:51+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Columnar File Optimization<\/h3>\n<p>Another possible optimization is using a column-oriented file format for storing the data.<br/>We create a Hive table where the data is stored as parquet. The files for the parquet table are a lot smaller (177.2 MB vs 2.3 GB) because parquet compresses the data.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566330790543_-505746067",
         "id": "20190820-195310_550386180",
         "dateCreated": "2019-08-20T19:53:10+0000",
         "dateStarted": "2019-08-21T19:22:51+0000",
         "dateFinished": "2019-08-21T19:22:51+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:229"
      },
      {
         "text": "%spark.sql\nDROP TABLE IF EXISTS wdi_csv_parquet",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T19:58:26+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566331083498_-75899451",
         "id": "20190820-195803_812716565",
         "dateCreated": "2019-08-20T19:58:03+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:230"
      },
      {
         "text": "%spark.sql\nCREATE EXTERNAL TABLE wdi_csv_parquet\n(year INTEGER, countryName STRING, countryCode STRING, indicatorName STRING, indicatorCode STRING, indicatorValue FLOAT)\nSTORED AS PARQUET\nLOCATION 'hdfs:///user/miriam/hive/wdi/wdi_csv_parquet'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T20:00:08+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566331113388_-249710726",
         "id": "20190820-195833_1927271914",
         "dateCreated": "2019-08-20T19:58:33+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:231"
      },
      {
         "text": "%spark.sql\nINSERT OVERWRITE TABLE wdi_csv_parquet\nSELECT * FROM wdi_opencsv_gs",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T20:00:41+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566331221651_-1785519941",
         "id": "20190820-200021_1938581030",
         "dateCreated": "2019-08-20T20:00:21+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:232"
      },
      {
         "text": "%md\nLet's compare the running times for counting rows in the parquet table and the plain text table.\nRunning time: 31.6 sec (parquet), 88.2 sec (plain text)\nUsing the parquet table is faster because the files are a lot smaller and less data has to be transferred.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:16:43+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>Let&rsquo;s compare the running times for counting rows in the parquet table and the plain text table.<br/>Running time: 31.6 sec (parquet), 88.2 sec (plain text)<br/>Using the parquet table is faster because the files are a lot smaller and less data has to be transferred.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566331893966_382489859",
         "id": "20190820-201133_605078564",
         "dateCreated": "2019-08-20T20:11:33+0000",
         "dateStarted": "2019-08-21T18:16:43+0000",
         "dateFinished": "2019-08-21T18:16:43+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:233"
      },
      {
         "text": "%spark.sql\nSELECT COUNT(year) FROM wdi_csv_parquet",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T20:12:35+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566331897088_482381935",
         "id": "20190820-201137_345251962",
         "dateCreated": "2019-08-20T20:11:37+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:234"
      },
      {
         "text": "%spark.sql\nSELECT COUNT(year) FROM wdi_opencsv_text",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T20:12:47+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566331955622_-1738825273",
         "id": "20190820-201235_1268860014",
         "dateCreated": "2019-08-20T20:12:35+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:235"
      },
      {
         "text": "%md Let's compare the running time for the 2015 GDP query.\nThe running time for the plain text table is 93.8 secondes. The running time for the parquet table is 3.5 secondes, more than 30 times faster than for the plain text table. The running time is so much faster because parquet is a column-oriented storage format, which makes it easier to skip columns.",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:18:55+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<p>Let&rsquo;s compare the running time for the 2015 GDP query.<br/>The running time for the plain text table is 93.8 secondes. The running time for the parquet table is 3.5 secondes, more than 30 times faster than for the plain text table. The running time is so much faster because parquet is a column-oriented storage format, which makes it easier to skip columns.<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566331509101_-575778546",
         "id": "20190820-200509_2050412531",
         "dateCreated": "2019-08-20T20:05:09+0000",
         "dateStarted": "2019-08-21T18:18:55+0000",
         "dateFinished": "2019-08-21T18:18:55+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:236"
      },
      {
         "text": "%spark.sql\nSELECT year, indicatorValue, countryName FROM wdi_opencsv_text\nWHERE indicatorCode = 'NY.GDP.MKTP.KD.ZG'\nAND year = '2015'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T20:18:21+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566332283767_-1218477086",
         "id": "20190820-201803_526316818",
         "dateCreated": "2019-08-20T20:18:03+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:237"
      },
      {
         "text": "%spark.sql\nSELECT year, indicatorValue, countryName FROM wdi_csv_parquet\nWHERE indicatorCode = 'NY.GDP.MKTP.KD.ZG'\nAND year = '2015'",
         "user": "anonymous",
         "dateUpdated": "2019-08-20T20:15:17+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566331662804_1681204332",
         "id": "20190820-200742_1007984403",
         "dateCreated": "2019-08-20T20:07:42+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:238"
      },
      {
         "text": "%md\n### Highest GDP growth\nFind the highest GDP growth for every country. Output: GDP_growth_value, year, countryName \nRuntime 105.1 sec",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:32:29+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Highest GDP growth<\/h3>\n<p>Find the highest GDP growth for every country. Output: GDP_growth_value, year, countryName<br/>Runtime 105.1 sec<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566394504230_2140123055",
         "id": "20190821-133504_166863500",
         "dateCreated": "2019-08-21T13:35:04+0000",
         "dateStarted": "2019-08-21T18:32:29+0000",
         "dateFinished": "2019-08-21T18:32:29+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:239"
      },
      {
         "text": "%spark.sql\nSELECT wdi_csv_parquet.indicatorValue, wdi_csv_parquet.year, wdi_csv_parquet.countryName\nFROM (SELECT MAX(indicatorValue) AS ind, countryName FROM wdi_csv_parquet\n     WHERE indicatorcode = 'NY.GDP.MKTP.KD.ZG'\n     AND indicatorValue <> 0\n     GROUP BY countryName) t1\n     INNER JOIN wdi_csv_parquet\n     ON t1.ind = wdi_csv_parquet.indicatorValue\n         AND t1.countryName = wdi_csv_parquet.countryName",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T13:57:45+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "sql",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/sql"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566394578565_-585677405",
         "id": "20190821-133618_883325442",
         "dateCreated": "2019-08-21T13:36:18+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:240"
      },
      {
         "text": "%md\n### Sort GDP by country and year\nFind GDP growth for all countries. Sort by country and year\nRuntime: 29.5 sec ",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T18:32:41+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "markdown",
               "editOnDblClick": true,
               "completionKey": "TAB",
               "completionSupport": false
            },
            "editorMode": "ace/mode/markdown",
            "editorHide": true,
            "tableHide": false
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "results": {
            "code": "SUCCESS",
            "msg": [
               {
                  "type": "HTML",
                  "data": "<div class=\"markdown-body\">\n<h3>Sort GDP by country and year<\/h3>\n<p>Find GDP growth for all countries. Sort by country and year<br/>Runtime: 29.5 sec<\/p>\n<\/div>"
               }
            ]
         },
         "apps": [],
         "jobName": "paragraph_1566396308323_-2047054057",
         "id": "20190821-140508_1068862559",
         "dateCreated": "2019-08-21T14:05:08+0000",
         "dateStarted": "2019-08-21T18:32:41+0000",
         "dateFinished": "2019-08-21T18:32:41+0000",
         "status": "FINISHED",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:241"
      },
      {
         "text": "%spark.sql\nSELECT countryName, year, indicatorcode, indicatorValue FROM wdi_csv_parquet\nWHERE indicatorcode = 'NY.GDP.MKTP.KD.ZG'\nCLUSTER BY countryName, year",
         "user": "anonymous",
         "dateUpdated": "2019-08-21T14:12:11+0000",
         "config": {
            "colWidth": 12,
            "fontSize": 9,
            "enabled": true,
            "results": {},
            "editorSetting": {
               "language": "scala",
               "editOnDblClick": false,
               "completionKey": "TAB",
               "completionSupport": true
            },
            "editorMode": "ace/mode/scala"
         },
         "settings": {
            "params": {},
            "forms": {}
         },
         "apps": [],
         "jobName": "paragraph_1566396303042_868351777",
         "id": "20190821-140503_1212539571",
         "dateCreated": "2019-08-21T14:05:03+0000",
         "status": "READY",
         "progressUpdateIntervalMs": 500,
         "$$hashKey": "object:242"
      }
   ],
   "name": "HiveQL project",
   "id": "2EHV8FBHD",
   "noteParams": {},
   "noteForms": {},
   "angularObjects": {
      "md:shared_process": [],
      "sh:shared_process": [],
      "spark:shared_process": []
   },
   "config": {
      "isZeppelinNotebookCronEnable": false,
      "looknfeel": "default",
      "personalizedMode": "false"
   },
   "info": {}
}
